/* Shared Design Tokens + Base Styles — Ainary Glashütte Portal */
:root {
  --text: #1a1a1a;
  --text2: #444;
  --muted: #777;
  --light: #bbb;
  --border: #d0d0d0;
  --border2: #e8e8e8;
  --surface: #fafafa;
  --accent: #9d7f3b;
  --green: #2d8a4e;
  --red: #c0392b;
  --amber: #b45309;
  --blue: #2b6cb0;
  --f: 'Inter', -apple-system, sans-serif;
  --m: 'JetBrains Mono', monospace;
}

*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: var(--f);
  color: var(--text);
  font-size: 10pt;
  line-height: 1.65;
  background: #fff;
  -webkit-font-smoothing: antialiased;
}

a { color: inherit; text-decoration: none; }

.page { max-width: 1040px; margin: 0 auto; padding: 32px 48px 48px; }

/* Portal header (legacy, kept for CSS-only pages) */
.portal-hdr {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding-bottom: 12px;
  margin-bottom: 32px;
  border-bottom: 1px solid var(--border2);
  font-size: 8pt;
}
.portal-left { display: flex; align-items: center; gap: 8px; }
.brand-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--accent); flex-shrink: 0; }
.brand-name { font-weight: 500; color: var(--muted); }

/* Section headers */
.sec { margin-top: 36px; }
.sec-label {
  font-family: var(--m);
  font-size: 7pt;
  font-weight: 500;
  color: var(--muted);
  letter-spacing: .12em;
  text-transform: uppercase;
  margin-bottom: 4px;
}
.sec-title {
  font-size: 16pt;
  font-weight: 700;
  letter-spacing: -.02em;
  margin-bottom: 4px;
}
.sec-desc { font-size: 9pt; color: var(--text2); margin-bottom: 16px; }
.sec-rule { height: 1px; background: var(--accent); opacity: .15; margin-bottom: 16px; }

/* Responsive */
@media (max-width: 700px) {
  .page { padding: 20px 16px !important; }

  /* Force all multi-column grids to stack on mobile */
  .proj-grid, .flow, .phase-grid, .wirt-grid, .ch-grid, .kpi-top, .kpi-row,
  .grid-2, .grid-3, .grid-4, .tiles, .ev-grid, .glance,
  .doc-grid, .featured-stats { grid-template-columns: 1fr !important; }

  /* Inline-style grids need !important override */
  [style*="grid-template-columns: repeat(3"] { grid-template-columns: 1fr !important; }
  [style*="grid-template-columns: repeat(4"] { grid-template-columns: 1fr !important; }
  [style*="grid-template-columns: 1fr 1fr"] { grid-template-columns: 1fr !important; }
  [style*="grid-template-columns:repeat(3"] { grid-template-columns: 1fr !important; }
  [style*="grid-template-columns:repeat(4"] { grid-template-columns: 1fr !important; }
  [style*="grid-template-columns:1fr 1fr"] { grid-template-columns: 1fr !important; }

  /* Waffle/personnel charts: keep grid but shrink cells */
  [style*="grid-template-columns:repeat(10"] { grid-template-columns: repeat(10, 1fr) !important; gap: 2px !important; }

  /* Header: wrap, hide weather, shrink */
  .portal-hdr { font-size: 7pt; flex-wrap: wrap !important; gap: 4px; }
  .portal-center, .sh-center { display: none !important; }
  .sh-right { font-size: 7pt !important; }

  /* Greeting smaller */
  [style*="font-size:22pt"] { font-size: 16pt !important; }

  /* Shared header tabs: scrollable */
  #shared-header nav,
  #shared-header [style*="display:flex"][style*="gap"] {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    white-space: nowrap;
  }

  /* Large headings */
  .hero-h, [style*="font-size:28pt"], [style*="font-size:24pt"] {
    font-size: 20pt !important;
  }

  /* KPI cards */
  .kpi-row { flex-direction: column !important; }

  /* Mia bar */
  .mia { font-size: 9pt; }

  /* Tables */
  table { font-size: 8pt; }
  .cmp td, .cmp th { padding: 4px 6px; }

  /* Flex wrapping */
  [style*="display:flex"][style*="gap:24px"],
  [style*="display:flex"][style*="gap:32px"],
  [style*="display:flex"][style*="gap:16px"] {
    flex-wrap: wrap !important;
  }

  /* Footer */
  .ftr { flex-direction: column; align-items: center; text-align: center; }
}
